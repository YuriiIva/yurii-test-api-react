(this["webpackJsonpyurii-test-api-react"]=this["webpackJsonpyurii-test-api-react"]||[]).push([[0],{11:function(e,t,n){e.exports={backdrop:"Modal_backdrop__3v0tS",modal:"Modal_modal__3q2YW",header:"Modal_header__t_iDW",closeBtn:"Modal_closeBtn__1JGcx"}},19:function(e,t,n){e.exports={changeForm:"ModalChange_changeForm__2vTu1"}},31:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(12),o=n.n(c),s=n(7),i=n(4),l=n.n(i),u=n(6),d=n(2),j="https://yourtestapi.com/api",b=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,r,a=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,fetch("".concat(j,"/").concat(t),n);case 3:return r=e.sent,e.abrupt("return",r.ok?r.json():Promise.reject(new Error(r.statusText)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object(d.a)({method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json; charset=UTF-8"}},n);return b(e,r)},h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object(d.a)({method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json; charset=UTF-8"}},n);return b("".concat(e,"/").concat(t.id),r)},m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return b("".concat(e,"/").concat(t),Object(d.a)({method:"DELETE"},n))},O="posts",f=Object(s.b)("products/getProductsStatus",function(){var e=Object(u.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b(O,void 0);case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue("Something wrong :("));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),x=Object(s.b)("products/addProductsStatus",function(){var e=Object(u.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p(O,t);case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue("Something wrong :("));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),v=Object(s.b)("products/editProductsStatus",function(){var e=Object(u.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h(O,t);case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue("Something wrong :("));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),g=Object(s.b)("products/deleteProductsStatus",function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m(O,t);case 3:return e.abrupt("return",t);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue("Something wrong :("));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()),C=Object(s.c)({name:"products",initialState:{posts:[],loading:!1,error:null},extraReducers:function(e){e.addCase(f.pending,(function(e){e.loading=!0,e.error=null})).addCase(f.fulfilled,(function(e,t){var n=t.payload;e.loading=!1,e.posts=n})).addCase(f.rejected,(function(e,t){var n=t.payload;e.loading=!1,e.error=n})).addCase(x.pending,(function(e){e.loading=!0,e.error=null})).addCase(x.fulfilled,(function(e,t){var n=t.payload;e.loading=!1,e.posts.push(n)})).addCase(x.rejected,(function(e,t){var n=t.payload;e.loading=!1,e.error=n})).addCase(v.pending,(function(e){e.loading=!0,e.error=null})).addCase(v.fulfilled,(function(e,t){var n=t.payload;e.loading=!1,e.posts.map((function(e){return e.id===n.id?n:e}))})).addCase(v.rejected,(function(e,t){var n=t.payload;e.loading=!1,e.error=n})).addCase(g.pending,(function(e){e.loading=!0,e.error=null})).addCase(g.fulfilled,(function(e,t){var n=t.payload;e.loading=!1;var r=e.posts.findIndex((function(e){return e.id===n}));e.posts.splice(r,1)})).addCase(g.rejected,(function(e,t){var n=t.payload;e.loading=!1,e.error=n}))}}).reducer,y=Object(s.a)({reducer:{products:C},devTools:!1}),_=n(5),N=(n(31),n(21)),S=n(3),w=n(37),k=n(1),F=function(e){var t=e.children,n=e.handleChange;return Object(k.jsx)("div",{children:Object(k.jsx)(w.a,{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#myModal",onClick:n,children:t})})},E=n(8),P=n(22),T=function(e){var t=e.onCloseForm,n=Object(r.useState)(null),a=Object(S.a)(n,2),c=a[0],o=a[1],s=Object(r.useState)({}),i=Object(S.a)(s,2),l=i[0],u=i[1],j=Object(_.b)();Object(r.useEffect)((function(){c&&(j(x(c)),t())}),[j,c]);var b=function(e){var t,n=e.target,r=n.name,a=n.value;u(Object(d.a)(Object(d.a)({},l),{},(t={},Object(E.a)(t,r,a),Object(E.a)(t,"id",Object(P.a)()),t)))},p=l.title,h=l.text,m=l.image,O=l.url,f=l.active,v=l.sort_order;return Object(k.jsxs)("div",{className:"container",children:[Object(k.jsx)("h2",{children:"Please, enter the date"}),Object(k.jsxs)("form",{action:"/action_page.php",onSubmit:function(e){e.preventDefault(),o(l)},children:[Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"title",children:"Title:"}),Object(k.jsx)("input",{value:p,onChange:b,type:"text",className:"form-control",id:"title",name:"title",required:!0})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"text",children:"Text:"}),Object(k.jsx)("input",{value:h,onChange:b,type:"text",className:"form-control",id:"text",name:"text",required:!0})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"image",children:"Img:"}),Object(k.jsx)("input",{value:m,onChange:b,type:"url",className:"form-control",id:"image",name:"image",required:!0})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"url",children:"Url:"}),Object(k.jsx)("input",{value:O,onChange:b,type:"url",className:"form-control",id:"url",name:"url",required:!0})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"active",children:"Active:"}),Object(k.jsx)("input",{value:f,onChange:b,type:"number",className:"form-control",id:"active",name:"active",required:!0})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"sort",children:"Sort:"}),Object(k.jsx)("input",{value:v,onChange:b,type:"number",className:"form-control",id:"sort",name:"sort_order",required:!0})]}),Object(k.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})},I=n(11),M=n.n(I),q=function(e){var t=e.onCloseForm,n=e.children;Object(r.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return Object(k.jsx)("div",{children:Object(k.jsx)("div",{className:M.a.backdrop,onClick:function(e){e.target===e.currentTarget&&t()},children:Object(k.jsx)("div",{className:M.a.modal,children:Object(k.jsxs)("div",{children:[Object(k.jsx)("header",{className:M.a.header,children:Object(k.jsx)("button",{type:"button",className:M.a.closeBtn,onClick:t,"aria-label":"Close",children:"\xd7"})}),n]})})})})},D=n(9),B=n.n(D),W=n(20),J=function(e){var t=e.handleBtnChange,n=Object(_.c)((function(e){return e.products.posts}));return Object(k.jsx)("ul",{className:B.a.item,children:n.map((function(e){var n=e.id,r=e.title,a=e.text,c=e.url,o=e.image,s=e.active,i=e.sort_order,l=e.created_at,u=e.updated_at;return Object(k.jsxs)("li",{className:B.a.mainItem,children:[Object(k.jsx)("h2",{className:B.a.title,children:r}),Object(k.jsx)(W.a,{onClick:function(){return t(n)},className:B.a.icon}),Object(k.jsxs)("ul",{className:B.a.list_text,children:[Object(k.jsx)("p",{children:a}),Object(k.jsx)("img",{src:c,alt:"",width:"250px",height:"165px"}),Object(k.jsx)("a",{href:o,className:B.a.link,children:"Image link"}),Object(k.jsxs)("p",{children:["active: ",s]}),Object(k.jsxs)("p",{children:["sort_order:",i]}),Object(k.jsxs)("p",{children:["created: ",l]}),Object(k.jsxs)("p",{children:["updated: ",u]})]})]},n)}))})},L=n(19),U=n.n(L),V=function(e){var t=e.onDelete,n=e.onEdit;return Object(k.jsxs)("div",{className:U.a.changeForm,children:[Object(k.jsx)(F,{handleChange:n,children:"Edit"}),Object(k.jsx)(F,{handleChange:t,children:"Delete"})]})},A=function(e){var t=e.editProduct,n=e.onCloseForm,a=Object(r.useState)({}),c=Object(S.a)(a,2),o=c[0],s=c[1],i=Object(r.useState)(null),l=Object(S.a)(i,2),u=l[0],j=l[1],b=Object(_.b)();Object(r.useEffect)((function(){t&&s(Object(d.a)({},t))}),[t]);var p=function(e){var t=e.target,n=t.name,r=t.value;s(Object(d.a)(Object(d.a)({},o),{},Object(E.a)({},n,r)))};return Object(r.useEffect)((function(){u&&(b(v(u)),n())}),[u,b]),Object(k.jsx)("div",{children:Object(k.jsxs)("div",{className:"container",children:[Object(k.jsx)("h2",{children:"You can change... "}),Object(k.jsxs)("form",{action:"/action_page.php",onSubmit:function(e){e.preventDefault(),j(o)},children:[Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"title",children:"Change title:"}),Object(k.jsx)("input",{value:o.title,type:"text",className:"form-control",id:"title",name:"title",onChange:p})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"txt",children:"Change text:"}),Object(k.jsx)("input",{value:o.text,type:"text",className:"form-control",id:"txt",name:"text",onChange:p})]}),Object(k.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})})},z=function(){var e=Object(_.c)((function(e){return e.products.posts})),t=Object(r.useState)(!1),n=Object(S.a)(t,2),a=n[0],c=n[1],o=Object(r.useState)(null),s=Object(S.a)(o,2),i=s[0],d=s[1],j=Object(r.useState)(!1),b=Object(S.a)(j,2),p=b[0],h=b[1],m=Object(r.useState)({}),O=Object(S.a)(m,2),x=O[0],v=O[1],C=Object(r.useState)(!1),y=Object(S.a)(C,2),w=y[0],E=y[1],P=Object(_.b)();Object(r.useEffect)((function(){P(f())}),[P]);var I=function(){c(!1),h(!1),E(!1)},M=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P(g(i)),h(!1),d(null);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(k.jsxs)("div",{children:[Object(k.jsx)(F,{handleChange:function(){c(!0)},children:" Add product"}),e.length&&Object(k.jsx)(J,{handleBtnChange:function(e){d(e),h(!0)}}),a&&Object(k.jsx)(q,{onCloseForm:I,children:Object(k.jsx)(T,{onCloseForm:I})}),p&&Object(k.jsx)(q,{onCloseForm:I,children:Object(k.jsx)(V,{onEdit:function(){v.apply(void 0,Object(N.a)(e.filter((function(e){return e.id===i})))),h(!1),E(!0)},onDelete:M})}),w&&Object(k.jsx)(q,{onCloseForm:I,children:Object(k.jsx)(A,{editProduct:x,onCloseForm:I})})]})};n(33);o.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(_.a,{store:y,children:Object(k.jsx)(z,{})})}),document.getElementById("root"))},9:function(e,t,n){e.exports={item:"Posts_item__3HzO5",title:"Posts_title__3zhSO",mainItem:"Posts_mainItem__3EMGr",maimItem:"Posts_maimItem__1FLRK",icon:"Posts_icon__10vAh",link:"Posts_link__3rEn7"}}},[[34,1,2]]]);
//# sourceMappingURL=main.b7dbbac8.chunk.js.map